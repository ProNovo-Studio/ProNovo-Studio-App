version: 1.0
runtime: python311
build:
  commands:
    pre-build:
      - set -euxo pipefail
      - echo "PWD:" && pwd
      - echo "LIST:" && ls -la
      - echo "PYTHON:" && python -V
      - echo "PIP:" && pip -V
      - echo "PATH:" && echo $PATH
    build:
      - echo "Installing deps (verbose)â€¦"
      - pip install --no-cache-dir -r requirements.txt -vvv
      - python -c "import fastapi, langgraph; print('Dependencies OK')"
run:
  command: fastapi run src/main.py --host 0.0.0.0 --port 8000
  network:
    port: 8000
